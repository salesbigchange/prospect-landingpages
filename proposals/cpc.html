<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>From Fragmented Systems to One Unified Solution: A Proposal for CPC</title>
    <meta name="description" content="A tailored proposal for CPC (Community Property Care) outlining the business case, ROI, and implementation plan for consolidating Jotform, Fixflo, and Masternaut into the single BigChange platform.">
    <meta name="author" content="Serge Fagelman, BigChange">
    
    <!-- SEO & Social Sharing -->
    <meta property="og:title" content="BigChange & CPC: A Partnership for Growth">
    <meta property="og:description" content="An interactive proposal exploring the benefits of adopting BigChange's all-in-one system for property management and maintenance.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://i.postimg.cc/9QYhwmgK/Big-Change-Logo1.png">
    
    <!-- JSON-LD for SoftwareApplication -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "name": "BigChange Job Management Platform",
      "applicationCategory": "BusinessApplication",
      "operatingSystem": "Web, iOS, Android",
      "offers": {
        "@type": "Offer",
        "price": "79.95",
        "priceCurrency": "GBP",
        "description": "Per user per month, includes software, tracking hardware, and support."
      },
      "provider": {
        "@type": "Organization",
        "name": "BigChange"
      }
    }
    </script>

    <style>
        /* CSS Reset & Base Styles */
        :root {
            --bc-energy-blue: #0072CE;
            --bc-navy: #0A2240;
            --bc-green: #28E289;
            --bc-orange: #FF6B00;
            --bc-light-grey: #F4F4F4;
            --bc-charcoal: #282922;
            --bc-white: #FFFFFF;
            
            --spacing-1: 0.25rem;
            --spacing-2: 0.5rem;
            --spacing-4: 1rem;
            --spacing-6: 1.5rem;
            --spacing-8: 2rem;
            --spacing-12: 3rem;
            --spacing-16: 4rem;
            
            --border-radius: 0.75rem;
            --box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -2px rgba(0,0,0,0.1);
            --transition-speed: 0.3s;
        }

        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bc-white);
            color: var(--bc-charcoal);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        .container { max-width: 1200px; margin: 0 auto; padding: 0 var(--spacing-6); }
        section { padding: var(--spacing-16) 0; }
        h1, h2, h3, h4 { color: var(--bc-navy); line-height: 1.2; margin-bottom: var(--spacing-4); }
        h1 { font-size: 2.5rem; }
        h2 { font-size: 2rem; }
        h3 { font-size: 1.5rem; }
        a { color: var(--bc-energy-blue); text-decoration: none; }
        a:hover { text-decoration: underline; }
        
        .meeting-badge {
            display: inline-block;
            background-color: var(--bc-energy-blue);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 2rem;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            margin-bottom: 1rem;
        }

        .section-title { text-align: center; margin-bottom: var(--spacing-12); }
        .section-title .icon {
            color: var(--bc-energy-blue);
            width: 48px;
            height: 48px;
            margin: 0 auto var(--spacing-4);
        }

        /* Hero Section */
        #hero {
            background-color: var(--bc-navy);
            color: var(--bc-white);
            padding-top: var(--spacing-16);
            padding-bottom: var(--spacing-16);
            text-align: center;
        }
        #hero h1, #hero h2, #hero p { color: var(--bc-white); }
        #hero h1 { font-size: 3rem; }
        #hero .subhead { font-size: 1.25rem; max-width: 800px; margin: var(--spacing-4) auto var(--spacing-8); opacity: 0.9; }
        .cta-buttons { display: flex; justify-content: center; gap: var(--spacing-4); flex-wrap: wrap; }
        .btn {
            display: inline-block;
            padding: 0.8rem 1.8rem;
            border-radius: var(--border-radius);
            font-weight: 700;
            text-decoration: none;
            transition: all var(--transition-speed);
            border: 2px solid transparent;
            cursor: pointer;
            font-size: 1rem;
        }
        .btn-primary { background-color: var(--bc-energy-blue); color: var(--bc-white); }
        .btn-primary:hover { background-color: #005bb5; }
        .btn-secondary { background-color: transparent; color: var(--bc-white); border-color: var(--bc-white); }
        .btn-secondary:hover { background-color: var(--bc-white); color: var(--bc-navy); }
        
        /* Infographic Grids */
        .infographic-grid { display: grid; grid-template-columns: 1fr 1fr; gap: var(--spacing-12); align-items: start; }
        .state-card { background-color: var(--bc-light-grey); padding: var(--spacing-8); border-radius: var(--border-radius); position: relative; }
        .state-card h3 { display: flex; align-items: center; gap: var(--spacing-4); }
        .state-card ul { list-style: none; margin-top: var(--spacing-6); }
        .state-card li { padding-left: 2rem; position: relative; margin-bottom: var(--spacing-4); }
        .state-card li::before {
            content: '';
            position: absolute;
            left: 0;
            top: 5px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
        }
        .state-card.current li::before { background-color: var(--bc-orange); }
        .state-card.future li::before { background-color: var(--bc-green); }

        .meddic-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--spacing-6); }
        .meddic-card { background-color: var(--bc-light-grey); padding: var(--spacing-6); border-radius: var(--border-radius); }
        .meddic-card h4 { color: var(--bc-energy-blue); font-size: 1rem; text-transform: uppercase; letter-spacing: 1px; display: flex; align-items: center; gap: var(--spacing-2); }
        .meddic-card h4 .icon { width: 20px; height: 20px; }
        
        /* ROI Calculator Section */
        #roi { background-color: var(--bc-light-grey); }
        .calculator-wrapper {
            display: grid;
            grid-template-columns: 1fr 1.2fr;
            gap: var(--spacing-8);
            background-color: var(--bc-white);
            padding: var(--spacing-8);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }
        .calculator-input { margin-bottom: var(--spacing-6); }
        .calculator-input label { display: flex; justify-content: space-between; font-weight: 600; margin-bottom: var(--spacing-2); }
        input[type="range"] { -webkit-appearance: none; appearance: none; width: 100%; height: 8px; background: #e0e0e0; border-radius: 5px; outline: none; }
        input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 20px; height: 20px; background: var(--bc-energy-blue); cursor: pointer; border-radius: 50%; }
        .roi-results { text-align: center; }
        .total-savings { font-size: 3.5rem; font-weight: 800; color: var(--bc-green); line-height: 1; }
        
        .donut-chart-container { position: relative; width: 220px; height: 220px; margin: var(--spacing-6) auto; }
        .donut-chart { transform: rotate(-90deg); border-radius: 50%; }
        .donut-segment { fill: none; stroke-width: 20; transition: stroke-dashoffset 0.5s ease-in-out; }
        
        /* Gantt/Timeline */
        .gantt-chart { display: flex; flex-direction: column; gap: var(--spacing-4); }
        .gantt-phase { background-color: var(--bc-white); padding: var(--spacing-4); border-radius: var(--border-radius); box-shadow: var(--box-shadow); }
        .gantt-timeline { position: relative; height: 16px; background-color: #e0e0e0; border-radius: 10px; margin-top: var(--spacing-2); }
        .gantt-bar { position: absolute; height: 100%; background-color: var(--bc-energy-blue); border-radius: 10px; }

        /* Recording Section */
        .recordings-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 2rem; }
        .recording-card { background: white; padding: 2rem; border-radius: var(--border-radius); box-shadow: var(--box-shadow); text-align: center; }

        /* Case Studies */
        .case-studies-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--spacing-8); }
        .case-study-card { background-color: var(--bc-white); border-radius: var(--border-radius); box-shadow: var(--box-shadow); overflow: hidden; }
        .case-study-card img { width: 100%; height: 200px; object-fit: cover; }
        .case-study-card-content { padding: var(--spacing-6); }

        footer { background-color: var(--bc-navy); color: var(--bc-light-grey); padding: var(--spacing-12) 0; }
        
        @media (max-width: 1024px) {
            .infographic-grid, .calculator-wrapper, .recordings-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <main>
        <!-- Hero -->
        <section id="hero">
            <div class="container">
                <div style="display: flex; justify-content: center; align-items: center; gap: 2rem; margin-bottom: 2rem; flex-wrap: wrap;">
                    <img src="https://www.cpropertycare.com/wp-content/uploads/2021/02/CPC-Transparent-Logo-Web.png" alt="CPC Logo" style="height: 68px;">
                    <span style="font-size: 2.5rem; font-weight: 300; color: var(--bc-energy-blue);">+</span>
                    <img src="https://i.postimg.cc/ydbgqXFm/Big-Change-White.png" alt="BigChange Logo" style="height: 54px;">
                </div>
                <h1>A Unified Operational Roadmap for CPC</h1>
                <p class="subhead">Consolidating Jotform, Fixflo, Datastation, and Masternaut into one "One-Stop Shop" to drive professional client delivery and eliminate revenue leakage.</p>
                <div class="cta-buttons">
                    <a href="#meeting-2" class="btn btn-primary">Latest: Meeting 2 Deep-Dive</a>
                    <a href="#roi" class="btn btn-secondary">ROI Calculator</a>
                </div>
            </div>
        </section>

        <!-- Meeting 1 Section -->
        <section id="meeting-1" style="border-bottom: 1px solid #eee;">
            <div class="container">
                <div class="section-title">
                    <span class="meeting-badge">Meeting 1: Discovery & Strategy</span>
                    <h2>Current Challenges vs. Future Vision</h2>
                    <p>Recapping our initial session focused on strategic pains and the cost of maintaining fragmented systems.</p>
                </div>

                <div class="infographic-grid">
                    <!-- Current State -->
                    <div class="state-card current">
                        <h3>Current Fragmented State</h3>
                        <ul>
                            <li><strong>Data Silos:</strong> Juggling Jotform (comms), Fixflo (reactive), Datastation (compliance), and Masternaut (tracking) prevents a single source of truth.</li>
                            <li><strong>Revenue Leakage:</strong> Inability to track ~2,000 monthly visits leads to "money back" disputes when attendance can't be evidenced.</li>
                            <li><strong>Professional Gap:</strong> Client reports are falling behind competitors' tech-enabled formats.</li>
                        </ul>
                    </div>
                    <!-- Future State -->
                    <div class="state-card future">
                        <h3>Future BigChange State</h3>
                        <ul>
                            <li><strong>One Source of Truth:</strong> Mapping, quoting, scheduling, and tracking in one unified interface.</li>
                            <li><strong>Proof of Service:</strong> GPS-stamped evidence required for every job completion, eliminating disputes.</li>
                            <li><strong>Automated Experience:</strong> Uber-style tracking links and real-time portal access for property managers.</li>
                        </ul>
                    </div>
                </div>

                <div class="meddic-grid" style="margin-top: 4rem;">
                    <div class="meddic-card">
                        <h4><svg class="icon" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M7.5 14.25v2.25m3-4.5v4.5m3-6.75v6.75m3-9v9M6 20.25h12A2.25 2.25 0 0020.25 18V5.75A2.25 2.25 0 0018 3.5H6A2.25 2.25 0 003.75 5.75v12.5A2.25 2.25 0 006 20.25z" /></svg> The Business Case</h4>
                        <p>With 60+ field teams and 2,000 monthly form submissions, CPC requires "Management by Exception." You need the system to tell you when Dave <em>hasn't</em> arrived, rather than hunting for proof after a complaint.</p>
                    </div>
                    <div class="meddic-card">
                        <h4><svg class="icon" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.008v.008H12v-.008z" /></svg> Cost of Inaction</h4>
                        <p>Small daily inefficiencies across 70 teams compound into massive financial drains. Waiting to upgrade means continued missed revenue and a widening technology gap vs. competitors.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Meeting 2 Section -->
        <section id="meeting-2" style="background-color: #fafafa;">
            <div class="container">
                <div class="section-title">
                    <span class="meeting-badge">Meeting 2: Tailored Solution Deep-Dive</span>
                    <h2>Functional Alignment for CPC Operations</h2>
                    <p>Reviewing how BigChange maps specifically to your site hierarchies, asset inspections, and multi-skilled scheduling.</p>
                </div>

                <div class="meddic-grid">
                    <!-- Site Hierarchies -->
                    <div class="meddic-card" style="background: white; border-top: 4px solid var(--bc-energy-blue);">
                        <h4 style="margin-bottom: 1rem;">Managing Agent Hierarchies</h4>
                        <p><strong>Challenge:</strong> Site, Parent (Managing Agent), and Grandparent (FirstPort) structures for billing.</p>
                        <p><strong>Solution:</strong> BigChange's tiered structure ensures the crew sees the property details (barrier codes/maps) while the bill automatically routes to the correct agent entity.</p>
                    </div>
                    <!-- Asset Tracking -->
                    <div class="meddic-card" style="background: white; border-top: 4px solid var(--bc-energy-blue);">
                        <h4 style="margin-bottom: 1rem;">Asset & Playground Inspections</h4>
                        <p><strong>Challenge:</strong> Managing high-value added services like playground or fire door checks.</p>
                        <p><strong>Solution:</strong> Individual asset records against a site. Crews scan a barcode to pull up specific inspection worksheets, ensuring 100% compliance for safety-critical items.</p>
                    </div>
                    <!-- Scheduling Logic -->
                    <div class="meddic-card" style="background: white; border-top: 4px solid var(--bc-energy-blue);">
                        <h4 style="margin-bottom: 1rem;">Dynamic "Rotor" Scheduling</h4>
                        <p><strong>Challenge:</strong> 2-week schedules with flexibility for weather-based changes.</p>
                        <p><strong>Solution:</strong> Route optimization for GM teams and "Schedule Assistant" for reactive repairs. High-visibility folders for "Unscheduled" work allow managers to quickly swap jobs when rain prevents grass cutting.</p>
                    </div>
                </div>

                <div class="infographic-grid" style="margin-top: 3rem;">
                    <div class="state-card" style="background: #fff; box-shadow: var(--box-shadow);">
                        <h3 style="color: var(--bc-energy-blue);">The "Lazy PM" Problem</h3>
                        <p>We discussed how many PMs prefer to just send a PO rather than e-signing a portal quote. BigChange allows your office to manually mark a quote as "Accepted" and attach their PO, keeping the digital trail clean without forcing new habits on your clients.</p>
                    </div>
                    <div class="state-card" style="background: #fff; box-shadow: var(--box-shadow);">
                        <h3 style="color: var(--bc-green);">Variations in the Field</h3>
                        <p>For reactive repairs where the cost changes on-site, operatives can be given a "menu" to add materials or extra labor hours. This sends a real-time alert to the office, allowing you to update the invoice before the van even leaves the site.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ROI Calculator -->
        <section id="roi">
            <div class="container">
                <div class="section-title">
                    <h2>ROI & Savings Calculator</h2>
                    <p>Forecast the financial impact of moving from fragmented Excel/Jotforms to a single automated platform.</p>
                </div>
                <div class="calculator-wrapper">
                    <div class="calculator-inputs">
                        <h3>Business Parameters</h3>
                        <div class="calculator-input">
                            <label for="engineers"><span>Field Teams</span><span id="engineers-value">60</span></label>
                            <input type="range" id="engineers" min="10" max="150" value="60">
                        </div>
                        <div class="calculator-input">
                            <label for="jobsPerDay"><span>Jobs per Team/Day</span><span id="jobsPerDay-value">5</span></label>
                            <input type="range" id="jobsPerDay" min="1" max="20" value="5" step="1">
                        </div>
                         <div class="calculator-input">
                            <label for="officeStaff"><span>Office Staff</span><span id="officeStaff-value">10</span></label>
                            <input type="range" id="officeStaff" min="2" max="50" value="10">
                        </div>
                        <div class="calculator-input">
                            <label for="officeSalary"><span>Office Staff Avg. Salary (£)</span><span id="officeSalary-value">£28,000</span></label>
                            <input type="range" id="officeSalary" min="20000" max="60000" value="28000" step="500">
                        </div>
                        <div id="assumptions-container">
                            <h3>Proven BigChange Assumptions</h3>
                            <div id="assumptions-list"></div>
                        </div>
                    </div>
                    
                    <div class="roi-results">
                         <h3>Estimated Annual Benefit</h3>
                         <p class="total-savings" id="total-savings">£0</p>
                         <div class="donut-chart-container">
                            <svg id="savingsChart" class="donut-chart" width="100%" height="100%" viewBox="0 0 100 100">
                                 <circle cx="50" cy="50" r="40" fill="transparent" stroke="#e0e0e0" stroke-width="15"></circle>
                                 <circle id="donut-engineer" class="donut-segment" cx="50" cy="50" r="40" stroke-dasharray="0 251.2" stroke-dashoffset="0" stroke="var(--bc-energy-blue)"></circle>
                                 <circle id="donut-office" class="donut-segment" cx="50" cy="50" r="40" stroke-dasharray="0 251.2" stroke-dashoffset="0" stroke="var(--bc-green)"></circle>
                                 <circle id="donut-fuel" class="donut-segment" cx="50" cy="50" r="40" stroke-dasharray="0 251.2" stroke-dashoffset="0" stroke="var(--bc-orange)"></circle>
                            </svg>
                         </div>
                         <ul class="donut-legend">
                             <li><span class="legend-dot" style="background-color: var(--bc-energy-blue);"></span>Team Productivity</li>
                             <li><span class="legend-dot" style="background-color: var(--bc-green);"></span>Office Productivity</li>
                             <li><span class="legend-dot" style="background-color: var(--bc-orange);"></span>Fuel Savings</li>
                         </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Recordings -->
        <section id="recordings" style="background: #fafafa;">
            <div class="container">
                <div class="section-title">
                    <h2>Re-watch Our Sessions</h2>
                    <p>Access the full recordings of our demonstration and strategic discussions.</p>
                </div>
                <div class="recordings-grid">
                    <div class="recording-card">
                        <span class="meeting-badge">Meeting 1</span>
                        <h3>Discovery & Strategy</h3>
                        <p style="margin-bottom: 1.5rem; font-size: 0.9rem;">The initial session exploring operational pains and current system fragmentation.</p>
                        <a href="https://app.fireflies.ai/view/BigChange-X-CPC-Ltd::01K6X1ZJ2QPFNTQ78EKED0918N" target="_blank" class="btn btn-primary">Watch Recording</a>
                    </div>
                    <div class="recording-card">
                        <span class="meeting-badge">Meeting 2</span>
                        <h3>Solution Deep-Dive</h3>
                        <p style="margin-bottom: 1.5rem; font-size: 0.9rem;">Tailored demo covering site hierarchies, asset inspections, and field variations.</p>
                        <a href="https://copilot.clari.com/guest/sharedCall/6995d7db832bbf31da410291" target="_blank" class="btn btn-primary" style="background-color: var(--bc-orange);">Watch Recording</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Implementation -->
        <section id="implementation">
            <div class="container">
                <div class="section-title">
                    <h2>Phased Implementation Plan</h2>
                    <p>A structured approach to migrating from Jotform and Fixflo to a single BigChange instance.</p>
                </div>
                <div class="gantt-chart">
                    <div class="gantt-phase">
                        <h4>Phase 1: Foundation & Site Data (Weeks 1-4)</h4>
                        <p>Importing FirstPort site hierarchies, setting up parent/grandparent billing rules, and configuring core worksheets.</p>
                        <div class="gantt-timeline"><div class="gantt-bar" style="width: 33%; left: 0%;"></div></div>
                    </div>
                    <div class="gantt-phase">
                        <h4>Phase 2: Pilot Group Go-Live (Weeks 5-8)</h4>
                        <p>Roll out to ~10-15 teams in a single region to test the "Management by Exception" workflow and automated PM comms.</p>
                         <div class="gantt-timeline"><div class="gantt-bar" style="width: 34%; left: 33%;"></div></div>
                    </div>
                    <div class="gantt-phase">
                        <h4>Phase 3: National Rollout & Finance (Weeks 9-12)</h4>
                        <p>Full rollout across 70 teams and enabling Sage 50 integration for automated invoicing post-job completion.</p>
                        <div class="gantt-timeline"><div class="gantt-bar" style="width: 33%; left: 67%;"></div></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Case Studies -->
        <section id="case-studies" style="background: #fafafa;">
            <div class="container">
                <div class="section-title">
                    <h2>FM & Property Maintenance Success</h2>
                </div>
                <div class="case-studies-grid">
                    <div class="case-study-card">
                        <img src="https://cdn.prod.website-files.com/652e90c1583f67a8de233f2d/67d92cbec0a9389575acc169_Pinnacle-p-3200.jpeg" alt="Pinnacle Group">
                        <div class="case-study-card-content">
                            <h4>Pinnacle Group</h4>
                            <p style="font-size: 0.9rem; margin-bottom: 1rem;">"BigChange helped us digitally transform into a more flexible and responsive partner for our clients."</p>
                            <a href="https://www.bigchange.com/success-stories/bigchange-facilitates-business-transformation-for-pinnacle-group" target="_blank" style="font-weight: 700;">Read Case Study →</a>
                        </div>
                    </div>
                    <div class="case-study-card">
                        <img src="https://cdn.prod.website-files.com/652e90c1583f67a8de233f2d/67d9ca6f7cf922a2f7575f1c_Thirteen.webp" alt="Thirteen Group">
                        <div class="case-study-card-content">
                            <h4>Thirteen Group</h4>
                            <p style="font-size: 0.9rem; margin-bottom: 1rem;">"Transforming grounds maintenance with complete real-time visibility and GPS-backed attendance."</p>
                            <a href="https://www.bigchange.com/success-stories/thirteen-boosts-fm-services-with-bigchange-mobile-tech" target="_blank" style="font-weight: 700;">Read Case Study →</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <footer>
        <div class="container" style="text-align: center;">
            <img src="https://i.postimg.cc/ydbgqXFm/Big-Change-White.png" alt="BigChange Logo" style="height: 40px; margin-bottom: 2rem;">
            <h3>Ready for your BigChange?</h3>
            <p style="opacity: 0.7; font-size: 0.8rem; margin-top: 2rem;">Built specifically for CPC Ltd. &copy; 2025 BigChange.</p>
        </div>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const assumptions = {
            avgJobDriveTimeMins: 47.95,
            avgJobDurationMins: 52.75,
            avgDistancePerJobMiles: 24.26,
            avgMpg: 30.8,
            avgFuelCostPerLitre: 1.70,
            jobDurationSavingPercent: 0.0922,
            jobDriveTimeSavingPercent: 0.1054,
            jobDistanceSavingPercent: 0.1051,
            backOfficeSavingPercent: 0.2454,
            workingDaysPerMonth: 21,
            engineerSalary: 28000 
        };

        const inputs = {
            engineers: document.getElementById('engineers'),
            jobsPerDay: document.getElementById('jobsPerDay'),
            officeStaff: document.getElementById('officeStaff'),
            officeSalary: document.getElementById('officeSalary'),
        };

        const valueSpans = {
            engineers: document.getElementById('engineers-value'),
            jobsPerDay: document.getElementById('jobsPerDay-value'),
            officeStaff: document.getElementById('officeStaff-value'),
            officeSalary: document.getElementById('officeSalary-value'),
        };
        
        const outputs = {
            totalSavings: document.getElementById('total-savings'),
            donutEngineer: document.getElementById('donut-engineer'),
            donutOffice: document.getElementById('donut-office'),
            donutFuel: document.getElementById('donut-fuel'),
        };

        function formatCurrency(value) {
            return new Intl.NumberFormat('en-GB', { style: 'currency', currency: 'GBP', minimumFractionDigits: 0, maximumFractionDigits: 0 }).format(value);
        }

        function populateAssumptions() {
            const list = document.getElementById('assumptions-list');
            list.innerHTML = `
                <p><strong>Work Saving:</strong> ${(assumptions.jobDurationSavingPercent * 100).toFixed(1)}%</p>
                <p><strong>Drive Saving:</strong> ${(assumptions.jobDriveTimeSavingPercent * 100).toFixed(1)}%</p>
                <p><strong>Office Saving:</strong> ${(assumptions.backOfficeSavingPercent * 100).toFixed(1)}%</p>
                <p><strong>Fuel Saving:</strong> ${(assumptions.jobDistanceSavingPercent * 100).toFixed(1)}%</p>
            `;
        }

        function calculateAndDisplay() {
            const values = {};
            for (const key in inputs) {
                values[key] = parseFloat(inputs[key].value);
                if (valueSpans[key]) {
                    valueSpans[key].textContent = key === 'officeSalary' ? formatCurrency(values[key]) : values[key];
                }
            }

            const dailyDriveHours = (values.jobsPerDay * assumptions.avgJobDriveTimeMins) / 60;
            const dailyWorkHours = (values.jobsPerDay * assumptions.avgJobDurationMins) / 60;
            const dailyTimeSaved = (dailyDriveHours * assumptions.jobDriveTimeSavingPercent) + (dailyWorkHours * assumptions.jobDurationSavingPercent);
            
            const engineerSavings = (dailyTimeSaved / 8) * assumptions.engineerSalary * values.engineers;
            const officeSavings = values.officeSalary * values.officeStaff * assumptions.backOfficeSavingPercent;
            
            const annualMiles = values.jobsPerDay * assumptions.avgDistancePerJobMiles * assumptions.workingDaysPerMonth * 12 * values.engineers;
            const fuelSavings = (annualMiles / assumptions.avgMpg) * 4.546 * assumptions.avgFuelCostPerLitre * assumptions.jobDistanceSavingPercent;
            
            const totalBenefit = engineerSavings + officeSavings + fuelSavings;
            outputs.totalSavings.textContent = formatCurrency(totalBenefit);

            const circumference = 2 * Math.PI * 40;
            const segments = [outputs.donutEngineer, outputs.donutOffice, outputs.donutFuel];
            const breakdown = [engineerSavings, officeSavings, fuelSavings];
            let offset = 0;

            breakdown.forEach((s, i) => {
                const p = s / totalBenefit;
                const length = p * circumference;
                segments[i].setAttribute('stroke-dasharray', `${length} ${circumference - length}`);
                segments[i].setAttribute('stroke-dashoffset', offset);
                offset -= length;
            });
        }

        Object.values(inputs).forEach(input => input.addEventListener('input', calculateAndDisplay));
        populateAssumptions();
        calculateAndDisplay();
    });
    </script>
</body>
</html>
